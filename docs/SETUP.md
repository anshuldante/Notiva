# Setup Guide

This guide walks you through setting up your development environment for the Notiva Android application. By the end, you will have a fully functional local development environment with the app running on an emulator or physical device.

**Estimated time:** 10-15 minutes (longer on first setup due to dependency downloads)

For project overview and documentation navigation, see the [README](README.md).

---

## Prerequisites

Before starting, ensure you have the following installed and configured:

### Required Software

| Software | Version | Notes |
|----------|---------|-------|
| Android Studio | Ladybug (2024.2.x) or newer | Required for Gradle 8.13 compatibility |
| Java Development Kit (JDK) | 17 | Must match project configuration |
| Android SDK | API 36 (compileSdk) | Installed via Android Studio |
| Android SDK Build-Tools | 36.0.0 | Installed via Android Studio |
| Git | 2.x or newer | For cloning the repository |

### System Requirements

| Resource | Minimum | Recommended |
|----------|---------|-------------|
| RAM | 8 GB | 16 GB |
| Disk Space | ~2.5 GB for SDK + ~500 MB for project | 5 GB free |
| CPU | x86_64 with virtualization support | For emulator performance |

### Device/Emulator Requirements

- **Minimum API Level:** 33 (Android 13)
- **Target API Level:** 36 (Android 15)
- Physical devices or emulators must run Android 13 (API 33) or higher

### Prerequisites Checklist

Verify your environment before proceeding:

1. **Check Java version:**
   ```bash
   java -version
   ```
   Expected output should show version 17:
   ```
   openjdk version "17.x.x"
   ```

2. **Verify Android Studio JDK setting:**
   - Open Android Studio
   - Go to **Settings/Preferences** > **Build, Execution, Deployment** > **Build Tools** > **Gradle**
   - Ensure **Gradle JDK** is set to version 17

3. **Check Git installation:**
   ```bash
   git --version
   ```
   Expected output: `git version 2.x.x`

---

## Clone and Open

### Step 1: Clone the Repository

```bash
# Clone the repository
git clone <repository-url>

# Navigate to the project directory
cd my-reminder-app
```

### Step 2: Open in Android Studio

1. Launch **Android Studio**
2. Select **"Open"** (or **File** > **Open** if already in Android Studio)
3. Navigate to and select the `my-reminder-app` directory
4. Click **OK** to open the project

### Step 3: Wait for Gradle Sync

Android Studio will automatically start syncing the project with Gradle. This process:

- Downloads the Gradle wrapper (8.13)
- Downloads all project dependencies
- Configures the build environment

**Note:** First-time sync can take several minutes depending on your internet connection. Watch the progress bar at the bottom of Android Studio.

If Gradle sync does not start automatically:
- Click **File** > **Sync Project with Gradle Files**
- Or click the "Sync" elephant icon in the toolbar

---

## Verify SDK Configuration

Ensure the required SDK components are installed:

### Check SDK Platforms

1. Open **Android Studio** > **Settings/Preferences**
2. Navigate to **Languages & Frameworks** > **Android SDK**
3. In the **SDK Platforms** tab:
   - Ensure **Android API 36** is checked and installed
   - Ensure **Android 13 (API 33)** or higher is available for testing

### Check SDK Tools

1. In the same SDK settings window, click the **SDK Tools** tab
2. Ensure these are installed:
   - **Android SDK Build-Tools 36**
   - **Android Emulator** (if using emulator)
   - **Android SDK Platform-Tools**

### Local Properties

The `local.properties` file is auto-generated by Android Studio and contains your SDK path:

```properties
# Auto-generated - do not commit to version control
sdk.dir=/path/to/your/Android/sdk
```

If this file is missing or incorrect, see the Troubleshooting section.

---

## Build the App

Use the Gradle wrapper to build the application:

### Debug Build (Recommended for Development)

```bash
# Build the debug APK
./gradlew assembleDebug
```

This creates the APK at:
```
app/build/outputs/apk/debug/app-debug.apk
```

### Run All Checks

```bash
# Run lint, tests, and build
./gradlew check
```

This runs:
- Android lint analysis
- Unit tests
- Produces a debug build

### Clean Build

If you encounter stale cache issues or strange build errors:

```bash
# Remove all build artifacts and rebuild
./gradlew clean assembleDebug
```

### Expected Output

A successful build shows:
```
BUILD SUCCESSFUL in Xs
```

The debug APK will be located at:
```
app/build/outputs/apk/debug/app-debug.apk
```

---

## Run the App

### Method 1: Via Android Studio (Recommended)

1. **Select a device/emulator** from the device dropdown in the toolbar
2. Click the green **Run** button (or press **Shift+F10** / **Ctrl+R** on Mac)
3. Android Studio builds and installs the app automatically

### Method 2: Via Command Line

```bash
# Install the debug APK on a connected device or running emulator
./gradlew installDebug
```

**Requirements:**
- A device connected via USB with USB debugging enabled, OR
- An emulator running in the background

To check connected devices:
```bash
adb devices
```

### Setting Up an Emulator

If you don't have a physical device:

1. Open **Android Studio** > **Tools** > **Device Manager** (or **AVD Manager**)
2. Click **Create Device**
3. Select a device definition (e.g., Pixel 6)
4. Select a system image with **API 33 or higher**
5. Complete the wizard and launch the emulator

**Note:** Emulator performance is significantly better with hardware acceleration enabled. Ensure Intel HAXM (Intel) or Hypervisor Framework (Apple Silicon) is installed.

---

## Verify Installation

After successfully running the app, verify everything works:

### Basic Verification

1. **App icon appears:** Look for "Notiva" in the app drawer
2. **App launches:** Tap the icon to open the app
3. **Main screen loads:** You should see the reminder list (may be empty on first run)
4. **Navigation works:** Tap the floating action button (FAB) to open the reminder creation screen

### Create a Test Reminder

1. Tap the **+** (FAB) button
2. Enter a reminder title
3. Set a date and time
4. Save the reminder
5. Verify it appears in the main list

If all verification steps pass, your development environment is ready.

---

## Troubleshooting

### Common Issues and Solutions

| Issue | Cause | Solution |
|-------|-------|----------|
| `Unsupported class file major version 61` | Wrong Java version | Set Gradle JDK to 17 in Android Studio: **Settings** > **Build Tools** > **Gradle** > **Gradle JDK** |
| `SDK location not found` | Missing or incorrect `local.properties` | Let Android Studio sync to auto-generate, or manually create the file with `sdk.dir=/path/to/Android/sdk` |
| `Failed to find Build Tools revision 36.0.0` | Build tools not installed | Install via **SDK Manager** > **SDK Tools** > check **Android SDK Build-Tools 36** |
| `Could not resolve com.google.dagger:hilt-android` | Network or repository issue | Check internet connection, then run `./gradlew --refresh-dependencies` |
| Gradle sync hangs or takes very long | First-time dependency download | Wait 5-10 minutes; check Android Studio progress bar at bottom |
| `minSdk 33` errors on emulator | Emulator API level too low | Create a new AVD with API 33 or higher |
| Hilt compilation errors | Annotation processor issue | Run `./gradlew clean assembleDebug` to clear cached artifacts |
| `JAVA_HOME is not set` | Java environment not configured | Set JAVA_HOME to your JDK 17 installation path |
| Emulator runs slowly | Hardware acceleration disabled | Enable Intel HAXM or Hypervisor Framework; ensure virtualization is enabled in BIOS |
| `adb: command not found` | Platform tools not in PATH | Add `<sdk-path>/platform-tools` to your system PATH |

### Gradle Wrapper Issues

If `./gradlew` doesn't work:

**On Linux/macOS:**
```bash
# Make gradlew executable
chmod +x gradlew

# Run again
./gradlew assembleDebug
```

**On Windows:**
```cmd
# Use gradlew.bat instead
gradlew.bat assembleDebug
```

### Resetting the Project

If all else fails, try a full reset:

```bash
# Remove all build artifacts and Gradle caches
./gradlew clean
rm -rf .gradle
rm -rf app/build
rm -rf build

# Re-sync in Android Studio
# File > Sync Project with Gradle Files
```

### Getting More Help

- Check Android Studio's **Build** output window for detailed error messages
- Run Gradle with `--stacktrace` for full error traces:
  ```bash
  ./gradlew assembleDebug --stacktrace
  ```
- For dependency issues, check your network/proxy settings

---

## Next Steps

Now that your development environment is set up:

- [Architecture Overview](ARCHITECTURE.md) - Understand how the codebase is structured
- [README](README.md) - Navigate to other documentation

---

*Documentation last updated: 2026-02-04*
